<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Apex Zenith Pro | Financial Engine</title>
    <style>
        :root { --bg: #09090b; --panel: #131722; --accent: #2962ff; --green: #089981; --red: #f23645; --border: #2a2e39; --text: #d1d4dc; }
        * { box-sizing: border-box; }
        body { background: var(--bg); color: var(--text); font-family: 'Trebuchet MS', sans-serif; margin: 0; display: flex; flex-direction: column; height: 100vh; overflow: hidden; }
        
        header { background: var(--panel); height: 50px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; padding: 0 20px; }
        .logo { font-weight: 900; color: #fff; letter-spacing: -1px; }

        .workspace { display: grid; grid-template-columns: 280px 1fr 300px; flex: 1; gap: 1px; background: var(--border); overflow: hidden; }
        .panel { background: var(--panel); display: flex; flex-direction: column; overflow: hidden; }
        
        /* High-End Chart UI */
        #chart-container { flex: 1; background: #000; position: relative; overflow: hidden; }
        canvas { display: block; width: 100%; height: 100%; }
        .price-tag { position: absolute; right: 0; background: var(--accent); color: white; padding: 2px 8px; font-size: 12px; font-weight: bold; border-radius: 2px 0 0 2px; z-index: 10; }

        /* Watchlist Styling */
        .watch-item { display: flex; justify-content: space-between; padding: 12px 15px; border-bottom: 1px solid #21262d; cursor: pointer; transition: 0.2s; font-size: 13px; }
        .watch-item:hover { background: #1e222d; }
        .watch-item.active { border-left: 3px solid var(--accent); background: #1c2128; color: #fff; }

        /* Trade Controls */
        .btn-group { display: flex; gap: 15px; padding: 20px; border-top: 1px solid var(--border); }
        .btn { flex: 1; padding: 15px; border: none; border-radius: 6px; font-size: 18px; font-weight: 900; cursor: pointer; color: white; text-transform: uppercase; transition: 0.1s; }
        .buy { background: var(--green); box-shadow: 0 4px 15px rgba(8, 153, 129, 0.3); }
        .sell { background: var(--red); box-shadow: 0 4px 15px rgba(242, 54, 69, 0.3); }
        .btn:active { transform: scale(0.96); }

        footer { height: 160px; background: #050505; border-top: 1px solid var(--border); padding: 15px; display: grid; grid-template-columns: 1fr 300px; gap: 20px; }
        #logs { font-family: monospace; font-size: 11px; color: #555; overflow-y: auto; line-height: 1.6; }
    </style>
</head>
<body>

<header>
    <div class="logo">APEX <span style="color:var(--accent)">ZENITH</span> PRO</div>
    <div style="font-size:10px; color:var(--accent)">RTX 3060 CORE | 64GB DDR4 CACHE</div>
</header>

<div class="workspace">
    <section class="panel">
        <div style="padding:10px; font-size:11px; color:#555; font-weight:800;">WATCHLIST / ASSETS</div>
        <div class="watch-item active" onclick="updateAsset('TESLA', 248.50)"><span>TESLA</span><span style="color:var(--red)">$248.50</span></div>
        <div class="watch-item" onclick="updateAsset('META', 482.90)"><span>META</span><span style="color:var(--green)">$482.90</span></div>
        <div class="watch-item" onclick="updateAsset('PAYPAL', 76.40)"><span>PAYPAL</span><span style="color:var(--red)">$76.40</span></div>
        <div class="watch-item" onclick="updateAsset('BD BANK', 120.75)"><span>BD NAT. BANK</span><span style="color:var(--green)">$120.75</span></div>
    </section>

    <section id="chart-container">
        <div id="live-price" class="price-tag">248.50</div>
        <canvas id="pro-chart"></canvas>
    </section>

    <section class="panel">
        <div style="padding:10px; font-size:11px; color:#555; font-weight:800;">ORDER EXECUTION</div>
        <div style="padding:20px;">
            <div id="asset-name" style="font-size:24px; font-weight:bold; color:#fff;">TESLA / USD</div>
            <div id="asset-price" style="font-size:32px; font-weight:bold; color:var(--red); margin:5px 0;">$248.50</div>
        </div>
        <div class="btn-group">
            <button class="btn buy" onclick="trade('BUY')">BUY</button>
            <button class="btn sell" onclick="trade('SELL')">SELL</button>
        </div>
    </section>
</div>

<footer>
    <div id="logs">
        [SYSTEM] RTX 3060 Shaders Synchronized...<br>
        [SYSTEM] Processing 4K Real-Time Stream...
    </div>
    <div style="background:#111; padding:15px; border-radius:4px;">
        <div style="font-size:10px; color:#555;">ACCOUNT EQUITY</div>
        <div id="wallet" style="font-size:28px; font-weight:bold; color:var(--green);">$60000.00</div>
    </div>
</footer>

<script>
    const canvas = document.getElementById('pro-chart');
    const ctx = canvas.getContext('2d', { alpha: false });
    const priceTag = document.getElementById('live-price');
    const logs = document.getElementById('logs');
    
    let wallet = 60000.00;
    let currentAsset = 'TESLA';
    let data = [];
    let basePrice = 248.50;

    // Initialize 100 bars of data
    for(let i=0; i<100; i++) {
        generateBar();
    }

    function generateBar() {
        let open = basePrice;
        let close = open + (Math.random() - 0.5) * 10;
        let high = Math.max(open, close) + Math.random() * 5;
        let low = Math.min(open, close) - Math.random() * 5;
        let volume = Math.random() * 100;
        data.push({ o: open, h: high, l: low, c: close, v: volume });
        basePrice = close;
        if(data.length > 100) data.shift();
    }

    function updateAsset(name, price) {
        currentAsset = name;
        basePrice = price;
        document.getElementById('asset-name').innerText = name + " / USD";
        log(`Switched Asset to ${name}`);
    }

    function log(msg) {
        logs.innerHTML = `[${new Date().toLocaleTimeString()}] ${msg}<br>` + logs.innerHTML;
    }

    function trade(type) {
        log(`${type} order executed for ${currentAsset}`);
        if(type === 'BUY') wallet -= 1000; else wallet += 1050;
        document.getElementById('wallet').innerText = `$${wallet.toFixed(2)}`;
    }

    function render() {
        const w = canvas.width = canvas.parentElement.offsetWidth;
        const h = canvas.height = canvas.parentElement.offsetHeight;
        
        ctx.fillStyle = '#0a0a0a';
        ctx.fillRect(0, 0, w, h);

        // Grid
        ctx.strokeStyle = '#1a1a1a';
        ctx.lineWidth = 1;
        for(let x=0; x<w; x+=60) { ctx.beginPath(); ctx.moveTo(x, 0); ctx.lineTo(x, h); ctx.stroke(); }
        for(let y=0; y<h; y+=40) { ctx.beginPath(); ctx.moveTo(0, y); ctx.lineTo(w, y); ctx.stroke(); }

        const barW = 10;
        const gap = 18;
        const scale = 2; // Price scaling

        data.forEach((d, i) => {
            const x = w - (data.length - i) * gap;
            const isGreen = d.c >= d.o;
            const y_o = h/2 - (d.o - basePrice) * scale;
            const y_c = h/2 - (d.c - basePrice) * scale;
            const y_h = h/2 - (d.h - basePrice) * scale;
            const y_l = h/2 - (d.l - basePrice) * scale;

            ctx.strokeStyle = ctx.fillStyle = isGreen ? '#089981' : '#f23645';
            
            // Wick
            ctx.beginPath();
            ctx.moveTo(x + barW/2, y_h);
            ctx.lineTo(x + barW/2, y_l);
            ctx.stroke();

            // Body
            ctx.fillRect(x, Math.min(y_o, y_c), barW, Math.max(1, Math.abs(y_o - y_c)));

            // Volume Bars at bottom
            ctx.globalAlpha = 0.3;
            ctx.fillRect(x, h, barW, -d.v);
            ctx.globalAlpha = 1.0;

            if(i === data.length - 1) {
                priceTag.style.top = y_c - 10 + 'px';
                priceTag.innerText = d.c.toFixed(2);
                document.getElementById('asset-price').innerText = "$" + d.c.toFixed(2);
                document.getElementById('asset-price').style.color = isGreen ? 'var(--green)' : 'var(--red)';
            }
        });

        // 20-Period Moving Average Line
        ctx.strokeStyle = '#2962ff';
        ctx.lineWidth = 2;
        ctx.beginPath();
        for(let i=20; i<data.length; i++) {
            const x = w - (data.length - i) * gap + barW/2;
            let sum = 0;
            for(let j=0; j<20; j++) sum += data[i-j].c;
            const avg = sum / 20;
            const y = h/2 - (avg - basePrice) * scale;
            if(i === 20) ctx.moveTo(x, y); else ctx.lineTo(x, y);
        }
        ctx.stroke();

        generateBar();
        setTimeout(() => requestAnimationFrame(render), 200);
    }

    render();
</script>
</body>
</html>